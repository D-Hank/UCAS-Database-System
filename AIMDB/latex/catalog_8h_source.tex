\hypertarget{catalog_8h_source}{}\doxysection{catalog.\+h}
\label{catalog_8h_source}\index{system/catalog.h@{system/catalog.h}}
\mbox{\hyperlink{catalog_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{23 \textcolor{preprocessor}{\#ifndef \_CATALOG\_H}}
\DoxyCodeLine{24 \textcolor{preprocessor}{\#define \_CATALOG\_H}}
\DoxyCodeLine{25 }
\DoxyCodeLine{26 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{27 \textcolor{preprocessor}{\#include <unordered\_map>}}
\DoxyCodeLine{28 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{schema_8h}{schema.h}}"{}}}
\DoxyCodeLine{29 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{rowtable_8h}{rowtable.h}}"{}}}
\DoxyCodeLine{30 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{hashindex_8h}{hashindex.h}}"{}}}
\DoxyCodeLine{31 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{pbtreeindex_8h}{pbtreeindex.h}}"{}}}
\DoxyCodeLine{32 }
\DoxyCodeLine{34 \textcolor{keyword}{class }\mbox{\hyperlink{classCatalog}{Catalog}} \{}
\DoxyCodeLine{35   \textcolor{keyword}{private}:}
\DoxyCodeLine{36     std::vector <Object *> \mbox{\hyperlink{classCatalog_abd597c866546c41b6652b7225672c0f4}{cl\_id\_obj}};   }
\DoxyCodeLine{37     std::unordered\_map <std::string, Object *> \mbox{\hyperlink{classCatalog_a635890564caed6d1f1a68ebf7f466c0d}{cl\_name\_obj}};    }
\DoxyCodeLine{39   \textcolor{keyword}{public}:}
\DoxyCodeLine{43     \textcolor{keywordtype}{void} \mbox{\hyperlink{classCatalog_a32bfcf7bd5e25302542bb9a976c42d18}{init}}(\textcolor{keywordtype}{void}) \{}
\DoxyCodeLine{44         \mbox{\hyperlink{classCatalog_abd597c866546c41b6652b7225672c0f4}{cl\_id\_obj}}.push\_back(NULL);}
\DoxyCodeLine{45     \}}
\DoxyCodeLine{49     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classCatalog_a02cf4c4d8d1980a9f1e5088f9f81b2fc}{shut}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{57     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classCatalog_ace3c05f5e57c4fe8c1a84060074c90e0}{createDatabase}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *name, int64\_t \& d\_id);}
\DoxyCodeLine{66     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classCatalog_ab257a4df2c3f9ad30b8e5ad36b221ab7}{createTable}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *name, \mbox{\hyperlink{schema_8h_aeb35fcdf8088909b3d8e18eaaad38142}{TableType}} type, int64\_t \& t\_id);}
\DoxyCodeLine{76     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classCatalog_ac3fd61334f85197b7027f1e6815a4a6c}{createColumn}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *name, \mbox{\hyperlink{schema_8h_a12a097aab61e653430d85fddbd53267c}{ColumnType}} type,int64\_t option\_size, int64\_t \& c\_id);}
\DoxyCodeLine{86     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classCatalog_ae945ba8ac9426663d0635093563f5308}{createIndex}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *name, \mbox{\hyperlink{schema_8h_a2bfb0a0ff1c379a8b4e8f9d24fdd4839}{IndexType}} type, \mbox{\hyperlink{classKey}{Key}} i\_key,int64\_t \& i\_id);}
\DoxyCodeLine{93     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classCatalog_a618bbea429a377fae0a6bc46166e47fc}{initDatabase}}(int64\_t d\_id);    \textcolor{comment}{//  this function will truly init the inherited class}}
\DoxyCodeLine{100 \textcolor{comment}{}    \textcolor{keywordtype}{bool} \mbox{\hyperlink{classCatalog_a363d39f9b5dcf4d0615526cc90eb2509}{shutDatabase}}(int64\_t d\_id);}
\DoxyCodeLine{107     \mbox{\hyperlink{classObject}{Object}} *\mbox{\hyperlink{classCatalog_a748adeec3dca0c776f74d891979e5225}{getObjById}}(int64\_t o\_id);}
\DoxyCodeLine{114     \mbox{\hyperlink{classObject}{Object}} *\mbox{\hyperlink{classCatalog_a3f121921956b5fd3ca04a7716ee63d6e}{getObjByName}}(\textcolor{keywordtype}{char} *o\_name);}
\DoxyCodeLine{118     \textcolor{keywordtype}{void} \mbox{\hyperlink{classCatalog_a3d5837991139cedc94f9f2af3882e518}{print}}(\textcolor{keywordtype}{void}) \{}
\DoxyCodeLine{119         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ii = 0; ii < \mbox{\hyperlink{classCatalog_abd597c866546c41b6652b7225672c0f4}{cl\_id\_obj}}.size(); ii++) \{}
\DoxyCodeLine{120             \mbox{\hyperlink{classObject}{Object}} *obj = \mbox{\hyperlink{classCatalog_abd597c866546c41b6652b7225672c0f4}{cl\_id\_obj}}[ii];}
\DoxyCodeLine{121             \textcolor{keywordflow}{if} (obj == NULL)}
\DoxyCodeLine{122                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{123             obj-\/>\mbox{\hyperlink{classObject_a979154fa752f7a901145ef4968c6aa58}{print}}();}
\DoxyCodeLine{124         \}}
\DoxyCodeLine{125     \}}
\DoxyCodeLine{126 }
\DoxyCodeLine{127   \textcolor{keyword}{private}:}
\DoxyCodeLine{134     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classCatalog_a9a00de39ffbcf9c425586b8937d7668e}{initTable}}(int64\_t t\_id);}
\DoxyCodeLine{141     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classCatalog_a8652c2444c9e14ad25f92db6b53c5610}{initColumn}}(int64\_t c\_id);}
\DoxyCodeLine{149     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classCatalog_adc2544112349dcb6172de2cd9026677f}{initIndex}}(int64\_t i\_id,int64\_t t\_id);}
\DoxyCodeLine{156     int64\_t \mbox{\hyperlink{classCatalog_aec7842d2c0210c16809b29c0d7ba091d}{registerObj}}(\mbox{\hyperlink{classObject}{Object}} * obj) \{}
\DoxyCodeLine{157         \mbox{\hyperlink{classCatalog_abd597c866546c41b6652b7225672c0f4}{cl\_id\_obj}}[obj-\/>\mbox{\hyperlink{classObject_a4295d72e1ca6973da0c055e5e2f31ebe}{getOid}}()] = obj;}
\DoxyCodeLine{158         \mbox{\hyperlink{classCatalog_a635890564caed6d1f1a68ebf7f466c0d}{cl\_name\_obj}}.insert(std::pair < std::string,}
\DoxyCodeLine{159                            \mbox{\hyperlink{classObject}{Object}} * >(obj-\/>\mbox{\hyperlink{classObject_ac7d4071062bba10e47a6be3246a39828}{getOname}}(), obj));}
\DoxyCodeLine{160         \textcolor{keywordflow}{return} obj-\/>\mbox{\hyperlink{classObject_a4295d72e1ca6973da0c055e5e2f31ebe}{getOid}}();}
\DoxyCodeLine{161     \}}
\DoxyCodeLine{167     int64\_t \mbox{\hyperlink{classCatalog_a7b1d40d906a79269d2670001408ba4b0}{obtainId}}(\textcolor{keywordtype}{void}) \{}
\DoxyCodeLine{168         int64\_t \textcolor{keywordtype}{id} = \mbox{\hyperlink{classCatalog_abd597c866546c41b6652b7225672c0f4}{cl\_id\_obj}}.size();}
\DoxyCodeLine{169         \mbox{\hyperlink{classCatalog_abd597c866546c41b6652b7225672c0f4}{cl\_id\_obj}}.push\_back(NULL);}
\DoxyCodeLine{170         \textcolor{keywordflow}{return} id;}
\DoxyCodeLine{171     \}}
\DoxyCodeLine{172 \};  \textcolor{comment}{// class Catalog}}
\DoxyCodeLine{173 }
\DoxyCodeLine{174 \textcolor{keyword}{extern} \mbox{\hyperlink{classCatalog}{Catalog}} \mbox{\hyperlink{catalog_8h_ae5b03c9ac7c1b8e8396f5dd64955e90c}{g\_catalog}};}
\DoxyCodeLine{175 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
